{{ define "main" }}
<article class="container mx-auto px-4 py-8 max-w-4xl">
    <header class="mb-8">
        <h1 class="text-4xl font-bold mb-4 dark:text-cyan-300">{{ .Title }}</h1>
        
        <div class="flex flex-wrap gap-4 text-sm text-gray-600 dark:text-gray-400 mb-6">
            {{ if .Params.author }}
                <span class="flex items-center gap-2">
                    <span class="font-semibold">By</span> {{ .Params.author }}
                </span>
            {{ end }}
            
            {{ if .Date }}
                <span class="flex items-center gap-2">
                    <span class="font-semibold">Published</span> 
                    <time datetime="{{ .Date.Format `2006-01-02T15:04:05Z07:00` }}">
                        {{ .Date.Format "January 2, 2006" }}
                    </time>
                </span>
            {{ end }}
        </div>

        {{ if .Description }}
            <p class="text-lg text-gray-700 dark:text-gray-300 mb-6 italic">{{ .Description }}</p>
        {{ end }}

        {{ if or .Params.categories .Params.tags }}
            <div class="flex flex-wrap gap-2 mb-6">
                {{ range .Params.categories }}
                    <a href="{{ printf "/categories/%s" (. | lower) }}" class="inline-block px-3 py-1 text-xs font-semibold text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600 rounded transition">
                        {{ . }}
                    </a>
                {{ end }}
                
                {{ range .Params.tags }}
                    <a href="{{ printf "/tags/%s" (. | lower) }}" class="inline-block px-3 py-1 text-xs font-semibold text-white bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-600 rounded transition">
                        #{{ . }}
                    </a>
                {{ end }}
            </div>
        {{ end }}
    </header>

    <div class="prose dark:prose-invert dark:prose-headings:text-cyan-300 dark:prose-headings:glow-cyan dark:prose-a:text-cyan-400 dark:prose-a:hover:text-cyan-300 dark:prose-code:text-purple-300 dark:prose-code:bg-purple-900/20 dark:prose-pre:bg-gray-900/50 dark:prose-pre:border dark:prose-pre:border-cyan-400/20 dark:prose-strong:text-cyan-200 dark:prose-em:text-blue-300 dark:prose-hr:border-cyan-400/30 max-w-none">
        {{ .Content }}
    </div>

    {{ if or .Params.categories .Params.tags }}
        <footer class="mt-12 pt-8 border-t border-gray-300 dark:border-gray-700">
            {{ if .Params.categories }}
                <div class="mb-6">
                    <h3 class="text-sm font-semibold uppercase text-gray-600 dark:text-gray-400 mb-3">Categories</h3>
                    <div class="flex flex-wrap gap-2">
                        {{ range .Params.categories }}
                            <a href="{{ printf "/categories/%s" (. | lower) }}" class="px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded hover:bg-gray-300 dark:hover:bg-gray-600 transition">
                                {{ . }}
                            </a>
                        {{ end }}
                    </div>
                </div>
            {{ end }}

            {{ if .Params.tags }}
                <div>
                    <h3 class="text-sm font-semibold uppercase text-gray-600 dark:text-gray-400 mb-3">Tags</h3>
                    <div class="flex flex-wrap gap-2">
                        {{ range .Params.tags }}
                            <a href="{{ printf "/tags/%s" (. | lower) }}" class="px-2 py-1 text-sm bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded hover:bg-gray-300 dark:hover:bg-gray-600 transition">
                                {{ . }}
                            </a>
                        {{ end }}
                    </div>
                </div>
            {{ end }}
        </footer>
    {{ end }}
</article>
{{ end }}
